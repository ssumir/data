<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Significant Data Holder</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <div class="max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg">
    <h1 class="text-2xl font-bold text-center text-gray-800">Significant Data Holder</h1>
    <div id="passwordDiv" class="flex flex-col gap-4 mt-6">
      <input type="password" id="entryPassword" placeholder="Enter Password to Access Data" class="p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
      <button type="button" id="checkPassword" class="p-3 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600">
        Check Password
      </button>
    </div>
    <div id="dataContainer" class="hidden mt-6">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-xl font-semibold text-gray-800">Data List</h2>
        <button type="button" id="exitButton" class="p-3 bg-red-500 text-white font-semibold rounded-md hover:bg-red-600">
          Exit
        </button>
      </div>
      <div class="flex flex-col gap-4 mb-6">
        <input type="text" id="organization" placeholder="Enter Organization Name" class="p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="text" id="web" placeholder="Enter Web Address (e.g., https://example.com)" class="p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="text" id="userId" placeholder="Enter User ID" class="p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        <input type="password" id="password" placeholder="Enter Password" class="p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        <label class="flex items-center">
          <input type="checkbox" id="important" class="mr-2">
          <span>Mark as Important</span>
        </label>
        <button type="button" id="addContact" class="p-3 bg-green-500 text-white font-semibold rounded-md hover:bg-green-600">
          Add Data
        </button>
      </div>
      <input type="text" id="filterInput" placeholder="Search..." class="p-3 w-full border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4">
      <ul id="contactList" class="list-none mt-4 space-y-4"></ul>
    </div>
  </div>
  <footer class="text-center mt-5 text-sm text-gray-500">
    Powered by Eng. Saiful Islam (Sumir).
  </footer>

  <script>
    const ACCESS_PASSWORD = "12345"; // Replace with your secure password
    let contacts = JSON.parse(localStorage.getItem("contacts")) || [];
    let editIndex = null;

    const elements = {
      organization: document.getElementById("organization"),
      web: document.getElementById("web"),
      userId: document.getElementById("userId"),
      password: document.getElementById("password"),
      important: document.getElementById("important"),
      addContactBtn: document.getElementById("addContact"),
      contactList: document.getElementById("contactList"),
      entryPassword: document.getElementById("entryPassword"),
      checkPasswordBtn: document.getElementById("checkPassword"),
      exitButton: document.getElementById("exitButton"),
      dataContainer: document.getElementById("dataContainer"),
      passwordDiv: document.getElementById("passwordDiv"),
      filterInput: document.getElementById("filterInput"),
    };

    function saveContacts() {
      localStorage.setItem("contacts", JSON.stringify(contacts));
    }

    function displayContacts(filteredContacts = contacts) {
      elements.contactList.innerHTML = "";
      filteredContacts.forEach((contact, index) => {
        const li = document.createElement("li");
        li.className = "p-4 bg-gray-200 rounded-lg shadow-sm";
        li.innerHTML = `
          <span class="block font-medium"><strong>Organization:</strong> ${contact.organization}</span>
          <span class="block"><strong>Web:</strong> <a href="${contact.web}" target="_blank" class="text-blue-500 hover:underline">${contact.web}</a></span>
          <span class="block"><strong>User ID:</strong> ${contact.userId}</span>
          <span class="block"><strong>Password:</strong> ${contact.password}</span>
          <span class="block"><strong>Important:</strong> ${contact.important ? "Yes" : "No"}</span>
          <div class="flex gap-2 mt-4">
            <button type="button" class="p-2 bg-green-500 text-white rounded hover:bg-green-600" onclick="sendToWhatsApp(${index})">WhatsApp</button>
            <button type="button" class="p-2 bg-yellow-500 text-white rounded hover:bg-yellow-600" onclick="editContact(${index})">Edit</button>
            <button type="button" class="p-2 bg-red-500 text-white rounded hover:bg-red-600" onclick="deleteContact(${index})">Delete</button>
          </div>
        `;
        elements.contactList.appendChild(li);
      });
    }

    function sendToWhatsApp(index) {
      const contact = contacts[index];
      const message = `Organization: ${contact.organization}\nWeb: ${contact.web}\nUser ID: ${contact.userId}\nImportant: ${contact.important ? "Yes" : "No"}`;
      const whatsappURL = `https://wa.me/?text=${encodeURIComponent(message)}`;
      location.href = whatsappURL; // Adjusted for Android compatibility
    }

    elements.addContactBtn.addEventListener("click", () => {
      // Add or Update Contact Logic
    });

    elements.checkPasswordBtn.addEventListener("click", () => {
      if (elements.entryPassword.value === ACCESS_PASSWORD) {
        elements.passwordDiv.classList.add("hidden");
        elements.dataContainer.classList.remove("hidden");
      } else {
        alert("Incorrect password.");
      }
    });

    displayContacts();
  </script>
</body>
</html>
